<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: echo_audio_mode_flow Pages: 1 -->
<svg width="265pt" height="509pt"
 viewBox="0.00 0.00 265.00 509.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 505)">
<title>echo_audio_mode_flow</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-505 261,-505 261,4 -4,4"/>
<!-- start -->
<g id="node1" class="node">
<title>start</title>
<ellipse fill="none" stroke="black" cx="128.5" cy="-483" rx="18" ry="18"/>
</g>
<!-- n1 -->
<g id="node2" class="node">
<title>n1</title>
<polygon fill="none" stroke="black" points="222.5,-429 34.5,-429 34.5,-391 222.5,-391 222.5,-429"/>
<text text-anchor="middle" x="128.5" y="-413.8" font-family="Source Code Pro" font-size="14.00">User speaks</text>
<text text-anchor="middle" x="128.5" y="-398.8" font-family="Source Code Pro" font-size="14.00">(Audio buffer appended)</text>
</g>
<!-- start&#45;&gt;n1 -->
<g id="edge1" class="edge">
<title>start&#45;&gt;n1</title>
<path fill="none" stroke="black" d="M128.5,-464.81C128.5,-457.11 128.5,-447.82 128.5,-439.15"/>
<polygon fill="black" stroke="black" points="132,-439.02 128.5,-429.02 125,-439.02 132,-439.02"/>
</g>
<!-- n2 -->
<g id="node3" class="node">
<title>n2</title>
<polygon fill="none" stroke="black" points="241,-355 16,-355 16,-302 241,-302 241,-355"/>
<text text-anchor="middle" x="128.5" y="-339.8" font-family="Source Code Pro" font-size="14.00">VAD detects end</text>
<text text-anchor="middle" x="128.5" y="-324.8" font-family="Source Code Pro" font-size="14.00">Create pending user message</text>
<text text-anchor="middle" x="128.5" y="-309.8" font-family="Source Code Pro" font-size="14.00">(without transcript)</text>
</g>
<!-- n1&#45;&gt;n2 -->
<g id="edge2" class="edge">
<title>n1&#45;&gt;n2</title>
<path fill="none" stroke="black" d="M128.5,-390.96C128.5,-383.32 128.5,-374.14 128.5,-365.23"/>
<polygon fill="black" stroke="black" points="132,-365 128.5,-355 125,-365 132,-365"/>
</g>
<!-- n3 -->
<g id="node4" class="node">
<title>n3</title>
<polygon fill="none" stroke="black" points="257,-266 0,-266 0,-228 257,-228 257,-266"/>
<text text-anchor="middle" x="128.5" y="-250.8" font-family="Source Code Pro" font-size="14.00">Assistant responds</text>
<text text-anchor="middle" x="128.5" y="-235.8" font-family="Source Code Pro" font-size="14.00">Create pending assistant message</text>
</g>
<!-- n2&#45;&gt;n3 -->
<g id="edge3" class="edge">
<title>n2&#45;&gt;n3</title>
<path fill="none" stroke="black" d="M128.5,-301.91C128.5,-293.74 128.5,-284.65 128.5,-276.3"/>
<polygon fill="black" stroke="black" points="132,-276.24 128.5,-266.24 125,-276.24 132,-276.24"/>
</g>
<!-- n4 -->
<g id="node5" class="node">
<title>n4</title>
<polygon fill="none" stroke="black" points="243.5,-192 13.5,-192 13.5,-154 243.5,-154 243.5,-192"/>
<text text-anchor="middle" x="128.5" y="-176.8" font-family="Source Code Pro" font-size="14.00">Transcription completes</text>
<text text-anchor="middle" x="128.5" y="-161.8" font-family="Source Code Pro" font-size="14.00">Update pending user message</text>
</g>
<!-- n3&#45;&gt;n4 -->
<g id="edge4" class="edge">
<title>n3&#45;&gt;n4</title>
<path fill="none" stroke="black" d="M128.5,-227.83C128.5,-220.13 128.5,-210.97 128.5,-202.42"/>
<polygon fill="black" stroke="black" points="132,-202.41 128.5,-192.41 125,-202.41 132,-202.41"/>
</g>
<!-- n5 -->
<g id="node6" class="node">
<title>n5</title>
<polygon fill="none" stroke="black" points="248,-118 9,-118 9,-80 248,-80 248,-118"/>
<text text-anchor="middle" x="128.5" y="-102.8" font-family="Source Code Pro" font-size="14.00">Queue finalizes messages</text>
<text text-anchor="middle" x="128.5" y="-87.8" font-family="Source Code Pro" font-size="14.00">IN ORDER by sequence number</text>
</g>
<!-- n4&#45;&gt;n5 -->
<g id="edge5" class="edge">
<title>n4&#45;&gt;n5</title>
<path fill="none" stroke="black" d="M128.5,-153.83C128.5,-146.13 128.5,-136.97 128.5,-128.42"/>
<polygon fill="black" stroke="black" points="132,-128.41 128.5,-118.41 125,-128.41 132,-128.41"/>
</g>
<!-- end -->
<g id="node7" class="node">
<title>end</title>
<ellipse fill="none" stroke="black" cx="128.5" cy="-22" rx="18" ry="18"/>
<ellipse fill="none" stroke="black" cx="128.5" cy="-22" rx="22" ry="22"/>
</g>
<!-- n5&#45;&gt;end -->
<g id="edge6" class="edge">
<title>n5&#45;&gt;end</title>
<path fill="none" stroke="black" d="M128.5,-79.84C128.5,-72.2 128.5,-63.08 128.5,-54.41"/>
<polygon fill="black" stroke="black" points="132,-54.18 128.5,-44.18 125,-54.18 132,-54.18"/>
</g>
</g>
</svg>
